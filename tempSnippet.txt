const CostAnalysisDashboard: React.FC<{
    setViewMode: (mode: ViewMode) => void;
    personalization: PersonalizationSettings;
    theme: 'light' | 'dark';
}> = ({ setViewMode, personalization, theme }) => {
    const { t, language } = useTranslation();
    const { userProfile, setUserProfile } = useUserProfile();
    const { showToast } = useToast();
    const { projects } = useTrips();
    const { trips } = useTrips();
    const [timeRange, setTimeRange] = useState<'3m' | '6m' | '1y' | 'all'>('3m');
    const [costView, setCostView] = useState<'summary' | 'monthly'>('summary');
    const [showVehicleModal, setShowVehicleModal] = useState(false);
    const [vehicleForm, setVehicleForm] = useState<UserProfile | null>(null);
    const [selectedProjectId, setSelectedProjectId] = useState<string>('');

    // Inicializar el formulario cuando se abre el modal
    useEffect(() => {
        if (showVehicleModal && userProfile) {
            setVehicleForm({ ...userProfile });
        }
