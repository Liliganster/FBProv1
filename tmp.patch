*** Begin Patch
*** Update File: lib/api-handlers/ai/gemini.ts
@@
   const baseRequest: any = {
     model: GEMINI_MODEL,
     contents: [{ role: 'user', parts: [{ text: prompt }] }],
+    systemInstruction: { role: 'system', parts: [{ text: 'You are a callsheet extraction engine. Always output a single valid JSON object exactly matching the requested schema. Do not add any extra text or markdown.' }] },
     safetySettings: [
       { category: 'HARM_CATEGORY_HARASSMENT', threshold: 'BLOCK_NONE' },
       { category: 'HARM_CATEGORY_HATE_SPEECH', threshold: 'BLOCK_NONE' },
       { category: 'HARM_CATEGORY_SEXUALLY_EXPLICIT', threshold: 'BLOCK_NONE' },
       { category: 'HARM_CATEGORY_DANGEROUS_CONTENT', threshold: 'BLOCK_NONE' },
     ],
   };
*** End Patch

